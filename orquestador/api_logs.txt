nohup: ignoring input
INFO:     Will watch for changes in these directories: ['/home/ubuntu/red_contenedores/orquestador']
INFO:     Uvicorn running on http://0.0.0.0:5807 (Press CTRL+C to quit)
INFO:     Started reloader process [1296850] using StatReload
ğŸš€ Iniciando API del Orquestador...
ğŸ“ Puerto: 5807
ğŸ”— URL: http://localhost:5807
ğŸ“š Docs: http://localhost:5807/docs
INFO:     Started server process [1296852]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:39632 - "GET / HTTP/1.1" 200 OK

ğŸ¯ INICIANDO DESPLIEGUE COMPLETO DE SLICE
ğŸ“ Slice ID: 1

ğŸ“‹ PASO 1: Procesando configuraciÃ³n de topologÃ­a...
ğŸ“‚ Leyendo archivo de entrada: /tmp/tmpjbqsf54l.json
âœ… Archivo cargado correctamente
ğŸ”„ Pre-procesando JSON para completar campos faltantes...
âœ… Pre-procesamiento completado

ğŸ—ï¸ Procesando 1 topologÃ­a(s)...

ğŸ“ Procesando topologÃ­a 1: lineal
   Enlaces generados: [(1, 2), (2, 3)]
   VM vm1: VLANs 1
   VM vm2: VLANs 999,1,2
   VM vm3: VLANs 2

ğŸ–¥ï¸ Asignando puertos VNC...

âœ… Procesamiento completado
VLANs utilizadas: 1;2

ğŸ’¾ Archivo guardado: /tmp/tmp4cmhmyrs.json
âœ… TopologÃ­a procesada exitosamente (0.00s)
   â€¢ 1 topologÃ­as
   â€¢ 3 VMs
   â€¢ VLANs usadas: 1;2

ğŸŒ PASO 2: Creando namespaces DHCP...

ğŸŒ Creando namespaces DHCP para slice 1
VLANs: 1;2, Bridge: br-cloud
   Procesando VLAN 1...
      ğŸ“¦ Creando namespace: id1-ns1
      ğŸ”— Creando par veth: id1-vovs1 <-> id1-vns1
      ğŸ“¦ Moviendo id1-vns1 al namespace id1-ns1
      ğŸ”§ Comando DHCP: ip netns exec id1-ns1 dnsmasq --interface="id1-vns1" --bind-interfaces --dhcp-range="10.1.1.10,10.1.1.22,255.255.255.0" --dhcp-option=3,"10.1.1.1" --pid-file="/var/run/dhcp/id1-dnsmasq-1.pid" --dhcp-leasefile="/var/lib/dhcp/id1-dnsmasq-1.leases" --no-daemon &
   âŒ Error DHCP VLAN 1: Timeout ejecutando comando
   Procesando VLAN 2...
      ğŸ“¦ Creando namespace: id1-ns2
      ğŸ”— Creando par veth: id1-vovs2 <-> id1-vns2
      ğŸ“¦ Moviendo id1-vns2 al namespace id1-ns2
      ğŸ”§ Comando DHCP: ip netns exec id1-ns2 dnsmasq --interface="id1-vns2" --bind-interfaces --dhcp-range="10.1.2.10,10.1.2.22,255.255.255.0" --dhcp-option=3,"10.1.2.1" --pid-file="/var/run/dhcp/id1-dnsmasq-2.pid" --dhcp-leasefile="/var/lib/dhcp/id1-dnsmasq-2.leases" --no-daemon &
   âŒ Error DHCP VLAN 2: Timeout ejecutando comando
âŒ Error creando namespaces DHCP: Namespaces DHCP: 0 exitosos, 2 errores

ğŸ¯ INICIANDO DESPLIEGUE COMPLETO DE SLICE
ğŸ“ Slice ID: 1

ğŸ“‹ PASO 1: Procesando configuraciÃ³n de topologÃ­a...
ğŸ“‚ Leyendo archivo de entrada: /tmp/tmpfmhrh72q.json
âœ… Archivo cargado correctamente
ğŸ”„ Pre-procesando JSON para completar campos faltantes...
âœ… Pre-procesamiento completado

ğŸ—ï¸ Procesando 1 topologÃ­a(s)...

ğŸ“ Procesando topologÃ­a 1: lineal
   Enlaces generados: [(1, 2), (2, 3)]
   VM vm1: VLANs 1
   VM vm2: VLANs 999,1,2
   VM vm3: VLANs 2

ğŸ–¥ï¸ Asignando puertos VNC...

âœ… Procesamiento completado
VLANs utilizadas: 1;2

ğŸ’¾ Archivo guardado: /tmp/tmpeysce_g9.json
âœ… TopologÃ­a procesada exitosamente (0.00s)
   â€¢ 1 topologÃ­as
   â€¢ 3 VMs
   â€¢ VLANs usadas: 1;2

ğŸŒ PASO 2: Creando namespaces DHCP...

ğŸŒ Creando namespaces DHCP para slice 1
VLANs: 1;2, Bridge: br-cloud
   Procesando VLAN 1...
      ğŸ“¦ Creando namespace: id1-ns1
      âŒ Error creando namespace: Cannot create namespace file "/run/netns/id1-ns1": File exists
   Procesando VLAN 2...
      ğŸ“¦ Creando namespace: id1-ns2
      âŒ Error creando namespace: Cannot create namespace file "/run/netns/id1-ns2": File exists
âŒ Error creando namespaces DHCP: Namespaces DHCP: 0 exitosos, 2 errores
INFO:     127.0.0.1:51422 - "POST /desplegar-slice HTTP/1.1" 200 OK

ğŸ¯ INICIANDO DESPLIEGUE COMPLETO DE SLICE
ğŸ“ Slice ID: 1

ğŸ“‹ PASO 1: Procesando configuraciÃ³n de topologÃ­a...
ğŸ“‚ Leyendo archivo de entrada: /tmp/tmpn8f02ew4.json
âœ… Archivo cargado correctamente
ğŸ”„ Pre-procesando JSON para completar campos faltantes...
âœ… Pre-procesamiento completado

ğŸ—ï¸ Procesando 1 topologÃ­a(s)...

ğŸ“ Procesando topologÃ­a 1: lineal
   Enlaces generados: [(1, 2), (2, 3)]
   VM vm1: VLANs 1
   VM vm2: VLANs 999,1,2
   VM vm3: VLANs 2

ğŸ–¥ï¸ Asignando puertos VNC...

âœ… Procesamiento completado
VLANs utilizadas: 1;2

ğŸ’¾ Archivo guardado: /tmp/tmpx1bl92wo.json
âœ… TopologÃ­a procesada exitosamente (0.00s)
   â€¢ 1 topologÃ­as
   â€¢ 3 VMs
   â€¢ VLANs usadas: 1;2

ğŸŒ PASO 2: Creando namespaces DHCP...

ğŸŒ Creando namespaces DHCP para slice 1
VLANs: 1;2, Bridge: br-cloud
   Procesando VLAN 1...
      ğŸ“¦ Creando namespace: id1-ns1
      ğŸ”— Creando par veth: id1-vovs1 <-> id1-vns1
      ğŸ“¦ Moviendo id1-vns1 al namespace id1-ns1
      ğŸ”§ Comando DHCP: ip netns exec id1-ns1 dnsmasq --interface="id1-vns1" --bind-interfaces --dhcp-range="10.1.1.10,10.1.1.22,255.255.255.0" --dhcp-option=3,"10.1.1.1" --pid-file="/var/run/dhcp/id1-dnsmasq-1.pid" --dhcp-leasefile="/var/lib/dhcp/id1-dnsmasq-1.leases" --no-daemon &
   âŒ Error DHCP VLAN 1: Timeout ejecutando comando
   Procesando VLAN 2...
      ğŸ“¦ Creando namespace: id1-ns2
      ğŸ”— Creando par veth: id1-vovs2 <-> id1-vns2
      ğŸ“¦ Moviendo id1-vns2 al namespace id1-ns2
      ğŸ”§ Comando DHCP: ip netns exec id1-ns2 dnsmasq --interface="id1-vns2" --bind-interfaces --dhcp-range="10.1.2.10,10.1.2.22,255.255.255.0" --dhcp-option=3,"10.1.2.1" --pid-file="/var/run/dhcp/id1-dnsmasq-2.pid" --dhcp-leasefile="/var/lib/dhcp/id1-dnsmasq-2.leases" --no-daemon &
   âŒ Error DHCP VLAN 2: Timeout ejecutando comando
âŒ Error creando namespaces DHCP: Namespaces DHCP: 0 exitosos, 2 errores
INFO:     127.0.0.1:59934 - "POST /desplegar-slice HTTP/1.1" 200 OK

ğŸ¯ INICIANDO DESPLIEGUE COMPLETO DE SLICE
ğŸ“ Slice ID: 1

ğŸ“‹ PASO 1: Procesando configuraciÃ³n de topologÃ­a...
ğŸ“‚ Leyendo archivo de entrada: /tmp/tmp7xxn7l2u.json
âœ… Archivo cargado correctamente
ğŸ”„ Pre-procesando JSON para completar campos faltantes...
âœ… Pre-procesamiento completado

ğŸ—ï¸ Procesando 1 topologÃ­a(s)...

ğŸ“ Procesando topologÃ­a 1: lineal
   Enlaces generados: [(1, 2), (2, 3)]
   VM vm1: VLANs 1
   VM vm2: VLANs 999,1,2
   VM vm3: VLANs 2

ğŸ–¥ï¸ Asignando puertos VNC...

âœ… Procesamiento completado
VLANs utilizadas: 1;2

ğŸ’¾ Archivo guardado: /tmp/tmp7z0sd3ih.json
âœ… TopologÃ­a procesada exitosamente (0.00s)
   â€¢ 1 topologÃ­as
   â€¢ 3 VMs
   â€¢ VLANs usadas: 1;2

ğŸŒ PASO 2: Creando namespaces DHCP...

ğŸŒ Creando namespaces DHCP para slice 1
VLANs: 1;2, Bridge: br-cloud
   Procesando VLAN 1...
      ğŸ“¦ Creando namespace: id1-ns1
      ğŸ”— Creando par veth: id1-vovs1 <-> id1-vns1
      ğŸ“¦ Moviendo id1-vns1 al namespace id1-ns1
      ğŸ”§ Comando DHCP: ip netns exec id1-ns1 dnsmasq --interface="id1-vns1" --bind-interfaces --dhcp-range="10.1.1.10,10.1.1.22,255.255.255.0" --dhcp-option=3,"10.1.1.1" --pid-file="/var/run/dhcp/id1-dnsmasq-1.pid" --dhcp-leasefile="/var/lib/dhcp/id1-dnsmasq-1.leases" --no-daemon &
   âŒ Error DHCP VLAN 1: Timeout ejecutando comando
   Procesando VLAN 2...
      ğŸ“¦ Creando namespace: id1-ns2
      ğŸ”— Creando par veth: id1-vovs2 <-> id1-vns2
      ğŸ“¦ Moviendo id1-vns2 al namespace id1-ns2
      ğŸ”§ Comando DHCP: ip netns exec id1-ns2 dnsmasq --interface="id1-vns2" --bind-interfaces --dhcp-range="10.1.2.10,10.1.2.22,255.255.255.0" --dhcp-option=3,"10.1.2.1" --pid-file="/var/run/dhcp/id1-dnsmasq-2.pid" --dhcp-leasefile="/var/lib/dhcp/id1-dnsmasq-2.leases" --no-daemon &
   âŒ Error DHCP VLAN 2: Timeout ejecutando comando
âŒ Error creando namespaces DHCP: Namespaces DHCP: 0 exitosos, 2 errores
INFO:     127.0.0.1:42920 - "POST /desplegar-slice HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'orquestador_api.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1296852]
Exception ignored in: <function BaseSubprocessTransport.__del__ at 0x751a05d9fec0>
Traceback (most recent call last):
  File "/usr/lib/python3.12/asyncio/base_subprocess.py", line 126, in __del__
    self.close()
  File "/usr/lib/python3.12/asyncio/base_subprocess.py", line 104, in close
    proto.pipe.close()
  File "/usr/lib/python3.12/asyncio/unix_events.py", line 568, in close
    self._close(None)
  File "/usr/lib/python3.12/asyncio/unix_events.py", line 592, in _close
    self._loop.call_soon(self._call_connection_lost, exc)
  File "/usr/lib/python3.12/asyncio/base_events.py", line 795, in call_soon
    self._check_closed()
  File "/usr/lib/python3.12/asyncio/base_events.py", line 541, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed
Exception ignored in: <function BaseSubprocessTransport.__del__ at 0x751a05d9fec0>
Traceback (most recent call last):
  File "/usr/lib/python3.12/asyncio/base_subprocess.py", line 126, in __del__
    self.close()
  File "/usr/lib/python3.12/asyncio/base_subprocess.py", line 104, in close
    proto.pipe.close()
  File "/usr/lib/python3.12/asyncio/unix_events.py", line 568, in close
    self._close(None)
  File "/usr/lib/python3.12/asyncio/unix_events.py", line 592, in _close
    self._loop.call_soon(self._call_connection_lost, exc)
  File "/usr/lib/python3.12/asyncio/base_events.py", line 795, in call_soon
    self._check_closed()
  File "/usr/lib/python3.12/asyncio/base_events.py", line 541, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed
INFO:     Started server process [1301479]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'orquestador_api.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1301479]
INFO:     Started server process [1301506]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'orquestador_api.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1301506]
INFO:     Started server process [1301531]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1301531]
INFO:     Stopping reloader process [1296850]
